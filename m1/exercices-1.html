<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 11 Exercices | Découvrir R et RStudio</title>
  <meta name="description" content="Module socle pour décourvir R et RStudio" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 11 Exercices | Découvrir R et RStudio" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Module socle pour décourvir R et RStudio" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 11 Exercices | Découvrir R et RStudio" />
  
  <meta name="twitter:description" content="Module socle pour décourvir R et RStudio" />
  

<meta name="author" content="Thierry Zorn, Murielle Lethrosne, Vivien Roussez &amp; Pascal Irz" />


<meta name="date" content="2019-08-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"/>
<link rel="next" href="exercices-pour-r-studio.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><img src="../assets/images/logo_marianne_fond_blanc.png" style="width:100px;"/></p></li>
<li><a href="./">Découvrir R et RStudio</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#le-parcours-de-formation"><i class="fa fa-check"></i><b>1.1</b> Le parcours de formation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#objectifs-du-module-1"><i class="fa fa-check"></i><b>1.2</b> Objectifs du module 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html"><i class="fa fa-check"></i><b>2</b> R, son écosystème et ses possibilités</a><ul>
<li class="chapter" data-level="2.1" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#le-groupe-de-referents"><i class="fa fa-check"></i><b>2.1</b> Le groupe de référents</a></li>
<li class="chapter" data-level="2.2" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#r-cest-quoi"><i class="fa fa-check"></i><b>2.2</b> R c’est quoi ?</a></li>
<li class="chapter" data-level="2.3" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#un-peu-dhistoire"><i class="fa fa-check"></i><b>2.3</b> Un peu d’histoire</a></li>
<li class="chapter" data-level="2.4" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#un-logiciel-libre"><i class="fa fa-check"></i><b>2.4</b> Un logiciel libre</a></li>
<li class="chapter" data-level="2.5" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#que-peut-on-faire-avec-r"><i class="fa fa-check"></i><b>2.5</b> Que peut-on faire avec R ?</a></li>
<li class="chapter" data-level="2.6" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#un-logiciel-modulaire"><i class="fa fa-check"></i><b>2.6</b> Un logiciel modulaire</a></li>
<li class="chapter" data-level="2.7" data-path="r-son-ecosysteme-et-ses-possibilites.html"><a href="r-son-ecosysteme-et-ses-possibilites.html#des-exemples-de-ce-quon-peut-faire-avec-r"><i class="fa fa-check"></i><b>2.7</b> Des exemples de ce qu’on peut faire avec R :</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html"><i class="fa fa-check"></i><b>3</b> Présentation de l’interface et premières manipulations</a><ul>
<li class="chapter" data-level="3.1" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#une-interface-dediee-rstudio"><i class="fa fa-check"></i><b>3.1</b> Une interface dédiée : RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#session-et-repertoire-de-travail"><i class="fa fa-check"></i><b>3.2</b> Session et répertoire de travail</a></li>
<li class="chapter" data-level="3.3" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#exercice"><i class="fa fa-check"></i><b>3.3</b> Exercice</a></li>
<li class="chapter" data-level="3.4" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#prise-en-main-de-la-console"><i class="fa fa-check"></i><b>3.4</b> Prise en main de la console</a></li>
<li class="chapter" data-level="3.5" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#creation-dune-variable"><i class="fa fa-check"></i><b>3.5</b> Création d’une variable</a></li>
<li class="chapter" data-level="3.6" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#exercice-1"><i class="fa fa-check"></i><b>3.6</b> Exercice</a></li>
<li class="chapter" data-level="3.7" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#utilite-des-scripts"><i class="fa fa-check"></i><b>3.7</b> Utilité des scripts</a></li>
<li class="chapter" data-level="3.8" data-path="presentation-de-linterface-et-premieres-manipulations.html"><a href="presentation-de-linterface-et-premieres-manipulations.html#exercice-utiliser-un-script"><i class="fa fa-check"></i><b>3.8</b> Exercice : utiliser un script</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html"><i class="fa fa-check"></i><b>4</b> Mon premier jeu de données</a><ul>
<li class="chapter" data-level="4.1" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#les-types-de-valeurs-dans-r"><i class="fa fa-check"></i><b>4.1</b> Les types de valeurs dans R</a></li>
<li class="chapter" data-level="4.2" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#avant-de-manipuler-le-dataframe-installer-et-charger-un-package"><i class="fa fa-check"></i><b>4.2</b> Avant de manipuler le <em>dataframe</em> : installer et charger un <em>package</em></a></li>
<li class="chapter" data-level="4.3" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#importation-de-donnees"><i class="fa fa-check"></i><b>4.3</b> Importation de données</a></li>
<li class="chapter" data-level="4.4" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#structure-des-donnees-le-dataframe"><i class="fa fa-check"></i><b>4.4</b> Structure des données : le <em>dataframe</em></a></li>
<li class="chapter" data-level="4.5" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#gerer-le-type-des-variables"><i class="fa fa-check"></i><b>4.5</b> Gérer le type des variables</a></li>
<li class="chapter" data-level="4.6" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#les-valeurs-particulieres"><i class="fa fa-check"></i><b>4.6</b> Les valeurs particulières</a></li>
<li class="chapter" data-level="4.7" data-path="mon-premier-jeu-de-donnees.html"><a href="mon-premier-jeu-de-donnees.html#exercice-importer-les-donnees-et-premier-coup-doeil"><i class="fa fa-check"></i><b>4.7</b> Exercice : Importer les données et premier coup d’oeil</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bien-commencer.html"><a href="bien-commencer.html"><i class="fa fa-check"></i><b>5</b> Bien commencer</a><ul>
<li class="chapter" data-level="5.1" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-un-projet-sous-rstudio-pour-vous-permettre-de-recencer-vos-travaux."><i class="fa fa-check"></i><b>5.1</b> Créer un projet sous Rstudio pour vous permettre de recencer vos travaux.</a></li>
<li class="chapter" data-level="5.2" data-path="bien-commencer.html"><a href="bien-commencer.html#integrer-vos-donnees"><i class="fa fa-check"></i><b>5.2</b> Intégrer vos données</a></li>
<li class="chapter" data-level="5.3" data-path="bien-commencer.html"><a href="bien-commencer.html#creer-votre-arborescence-de-projet"><i class="fa fa-check"></i><b>5.3</b> Créer votre arborescence de projet</a></li>
<li class="chapter" data-level="5.4" data-path="bien-commencer.html"><a href="bien-commencer.html#activer-les-packages-necessaires"><i class="fa fa-check"></i><b>5.4</b> Activer les packages nécessaires</a></li>
<li class="chapter" data-level="5.5" data-path="bien-commencer.html"><a href="bien-commencer.html#bien-structurer-ses-projets-data"><i class="fa fa-check"></i><b>5.5</b> Bien structurer ses projets <em>data</em></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html"><i class="fa fa-check"></i><b>6</b> Première manipulation des données</a><ul>
<li class="chapter" data-level="6.1" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#afficher-les-valeurs-et-manipuler-les-variables"><i class="fa fa-check"></i><b>6.1</b> Afficher les valeurs et manipuler les variables</a></li>
<li class="chapter" data-level="6.2" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#creer-de-nouvelles-variables"><i class="fa fa-check"></i><b>6.2</b> Créer de nouvelles variables</a></li>
<li class="chapter" data-level="6.3" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#selectionner-des-variables"><i class="fa fa-check"></i><b>6.3</b> Sélectionner des variables</a></li>
<li class="chapter" data-level="6.4" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#filtrer-des-observations"><i class="fa fa-check"></i><b>6.4</b> Filtrer des observations</a></li>
<li class="chapter" data-level="6.5" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#les-tests-logiques-dans-r"><i class="fa fa-check"></i><b>6.5</b> Les tests logiques dans R</a></li>
<li class="chapter" data-level="6.6" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#renommer-des-colonnes"><i class="fa fa-check"></i><b>6.6</b> Renommer des colonnes</a></li>
<li class="chapter" data-level="6.7" data-path="premiere-manipulation-des-donnees.html"><a href="premiere-manipulation-des-donnees.html#exercice-creer-filtrer-selectionner"><i class="fa fa-check"></i><b>6.7</b> Exercice : Créer, filtrer, sélectionner</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html"><i class="fa fa-check"></i><b>7</b> Premiers traitements statistiques</a><ul>
<li class="chapter" data-level="7.1" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#obtenir-des-informations"><i class="fa fa-check"></i><b>7.1</b> Obtenir des informations</a></li>
<li class="chapter" data-level="7.2" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#calculer-des-statistiques-specifiques"><i class="fa fa-check"></i><b>7.2</b> Calculer des statistiques spécifiques</a></li>
<li class="chapter" data-level="7.3" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#agreger-des-donnees"><i class="fa fa-check"></i><b>7.3</b> Agréger des données</a><ul>
<li class="chapter" data-level="7.3.1" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#globalement"><i class="fa fa-check"></i><b>7.3.1</b> Globalement</a></li>
<li class="chapter" data-level="7.3.2" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#selon-un-facteur"><i class="fa fa-check"></i><b>7.3.2</b> Selon un facteur</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#tableau-de-contingence"><i class="fa fa-check"></i><b>7.4</b> Tableau de contingence</a></li>
<li class="chapter" data-level="7.5" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#tableau-de-proportions"><i class="fa fa-check"></i><b>7.5</b> Tableau de proportions</a></li>
<li class="chapter" data-level="7.6" data-path="premiers-traitements-statistiques.html"><a href="premiers-traitements-statistiques.html#exercice-calcul-de-statistiques"><i class="fa fa-check"></i><b>7.6</b> Exercice : calcul de statistiques</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html"><i class="fa fa-check"></i><b>8</b> Premiers graphiques</a><ul>
<li class="chapter" data-level="8.1" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#package-ggplot2"><i class="fa fa-check"></i><b>8.1</b> Package ggplot2</a></li>
<li class="chapter" data-level="8.2" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#histogramme"><i class="fa fa-check"></i><b>8.2</b> Histogramme</a></li>
<li class="chapter" data-level="8.3" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#nuages-de-points"><i class="fa fa-check"></i><b>8.3</b> Nuages de points</a></li>
<li class="chapter" data-level="8.4" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#matrice-de-nuages"><i class="fa fa-check"></i><b>8.4</b> Matrice de nuages</a></li>
<li class="chapter" data-level="8.5" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#bonus-faire-un-graphique-dynamique"><i class="fa fa-check"></i><b>8.5</b> Bonus : faire un graphique “dynamique”</a></li>
<li class="chapter" data-level="8.6" data-path="premiers-graphiques.html"><a href="premiers-graphiques.html#exercices-creer-des-graphiques"><i class="fa fa-check"></i><b>8.6</b> Exercices : créer des graphiques</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html"><i class="fa fa-check"></i><b>9</b> Sauvegarder son travail</a><ul>
<li class="chapter" data-level="9.1" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html#exportation-des-resultats"><i class="fa fa-check"></i><b>9.1</b> Exportation des résultats</a></li>
<li class="chapter" data-level="9.2" data-path="sauvegarder-son-travail.html"><a href="sauvegarder-son-travail.html#environnement-et-.rdata"><i class="fa fa-check"></i><b>9.2</b> Environnement et <code>.RData</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><i class="fa fa-check"></i><b>10</b> Aller plus loin avec les objets, crochets et la programmation fonctionnelle</a><ul>
<li class="chapter" data-level="10.1" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#les-objets-dans-r"><i class="fa fa-check"></i><b>10.1</b> Les objets dans R</a><ul>
<li class="chapter" data-level="10.1.1" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#creer-des-vecteurs"><i class="fa fa-check"></i><b>10.1.1</b> Créer des vecteurs</a></li>
<li class="chapter" data-level="10.1.2" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#creer-une-matrice"><i class="fa fa-check"></i><b>10.1.2</b> Créer une matrice</a></li>
<li class="chapter" data-level="10.1.3" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#visualiser-ces-objets-et-leurs-attributs"><i class="fa fa-check"></i><b>10.1.3</b> Visualiser ces objets et leurs attributs</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#selectionner-des-lignes-et-des-colonnes"><i class="fa fa-check"></i><b>10.2</b> Sélectionner des lignes et des colonnes</a></li>
<li class="chapter" data-level="10.3" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#creer-une-nouvelle-fonction-en-r"><i class="fa fa-check"></i><b>10.3</b> Créer une nouvelle fonction en R</a></li>
<li class="chapter" data-level="10.4" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#les-boucles-conditionnelles"><i class="fa fa-check"></i><b>10.4</b> Les boucles conditionnelles</a></li>
<li class="chapter" data-level="10.5" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#les-boucles"><i class="fa fa-check"></i><b>10.5</b> Les boucles</a></li>
<li class="chapter" data-level="10.6" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#exercices"><i class="fa fa-check"></i><b>10.6</b> Exercices</a><ul>
<li class="chapter" data-level="10.6.1" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#vecteurs-simples"><i class="fa fa-check"></i><b>10.6.1</b> Vecteurs simples</a></li>
<li class="chapter" data-level="10.6.2" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#dataframes-et-listes"><i class="fa fa-check"></i><b>10.6.2</b> Dataframes et listes</a></li>
<li class="chapter" data-level="10.6.3" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#pour-aller-plus-loin-matrices-et-arrays"><i class="fa fa-check"></i><b>10.6.3</b> Pour aller plus loin : matrices et arrays</a></li>
<li class="chapter" data-level="10.6.4" data-path="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html"><a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html#inspection-dun-objet-la-regression"><i class="fa fa-check"></i><b>10.6.4</b> Inspection d’un objet : la régression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="exercices-1.html"><a href="exercices-1.html"><i class="fa fa-check"></i><b>11</b> Exercices</a><ul>
<li class="chapter" data-level="11.1" data-path="exercices-1.html"><a href="exercices-1.html#creation-et-manipulation-dobjets-dans-r"><i class="fa fa-check"></i><b>11.1</b> Création et manipulation d’objets dans R</a><ul>
<li class="chapter" data-level="11.1.1" data-path="exercices-1.html"><a href="exercices-1.html#generation-de-vecteurs"><i class="fa fa-check"></i><b>11.1.1</b> Génération de vecteurs</a></li>
<li class="chapter" data-level="11.1.2" data-path="exercices-1.html"><a href="exercices-1.html#generation-dautres-objets"><i class="fa fa-check"></i><b>11.1.2</b> Génération d’autres objets</a></li>
<li class="chapter" data-level="11.1.3" data-path="exercices-1.html"><a href="exercices-1.html#inspection-dun-objet-la-regression-1"><i class="fa fa-check"></i><b>11.1.3</b> Inspection d’un objet : la régression</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="exercices-1.html"><a href="exercices-1.html#premier-jeu-de-donnees-premieres-statistiques"><i class="fa fa-check"></i><b>11.2</b> Premier jeu de données, premières statistiques</a><ul>
<li class="chapter" data-level="11.2.1" data-path="exercices-1.html"><a href="exercices-1.html#importer-les-donnees-et-premier-coup-doeil"><i class="fa fa-check"></i><b>11.2.1</b> Importer les données et premier coup d’oeil</a></li>
<li class="chapter" data-level="11.2.2" data-path="exercices-1.html"><a href="exercices-1.html#creer-filtrer-selectionner"><i class="fa fa-check"></i><b>11.2.2</b> Créer, filtrer, sélectionner</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="exercices-1.html"><a href="exercices-1.html#mes-premiers-graphiques-et-statistiques"><i class="fa fa-check"></i><b>11.3</b> Mes premiers graphiques et statistiques</a><ul>
<li class="chapter" data-level="11.3.1" data-path="exercices-1.html"><a href="exercices-1.html#statistiques-univariees"><i class="fa fa-check"></i><b>11.3.1</b> Statistiques univariées</a></li>
<li class="chapter" data-level="11.3.2" data-path="exercices-1.html"><a href="exercices-1.html#tableaux-croises"><i class="fa fa-check"></i><b>11.3.2</b> Tableaux croisés</a></li>
<li class="chapter" data-level="11.3.3" data-path="exercices-1.html"><a href="exercices-1.html#les-graphiques-avec-ggplot2"><i class="fa fa-check"></i><b>11.3.3</b> Les graphiques avec ggplot2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html"><i class="fa fa-check"></i><b>12</b> Exercices pour R Studio</a><ul>
<li class="chapter" data-level="12.1" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-1-prendre-en-main-rstudio-10-min."><i class="fa fa-check"></i><b>12.1</b> Exercice 1 : Prendre en main RStudio (10 min.)</a></li>
<li class="chapter" data-level="12.2" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-2-faire-ses-premiers-calculs-15-min."><i class="fa fa-check"></i><b>12.2</b> Exercice 2 : Faire ses premiers calculs (15 min.)</a></li>
<li class="chapter" data-level="12.3" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-3-creer-ses-premieres-variables-15-min."><i class="fa fa-check"></i><b>12.3</b> Exercice 3 : Créer ses premières variables (15 min.)</a></li>
<li class="chapter" data-level="12.4" data-path="exercices-pour-r-studio.html"><a href="exercices-pour-r-studio.html#exercice-4-creer-son-premier-script-20-min."><i class="fa fa-check"></i><b>12.4</b> Exercice 4 : Créer son premier script (20 min.)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://mtes-mct.github.io/parcours-r/">Liste des formations R</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Découvrir R et RStudio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercices-1" class="section level1">
<h1><span class="header-section-number">Chapitre 11</span> Exercices</h1>
<div id="creation-et-manipulation-dobjets-dans-r" class="section level2">
<h2><span class="header-section-number">11.1</span> Création et manipulation d’objets dans R</h2>
<p>Ces exercices de mise en oeuvre des notions vues pendant la présentation se déroulent en deux parties :</p>
<ul>
<li>Manipulation des objets R sans recours à une base de données</li>
<li>Importation d’une base de données à partir d’un fichier CSV et premières manipulations</li>
<li>Premiers graphiques et statistiques.</li>
</ul>
<p>Par défaut, les résultats attendus sont affichés, et, si vous séchez, vous pouvez afficher le code les ayant généré en cliquant sur “code”.
A tout moment, vous pouvez donc copier / coller le code dans l’éditeur de script ou la console pour exécuter les commandes présentées.
Ces exercices nécessitent les packages de base et le package <code>tidyverse</code>, ce dernier regroupe un ensemble de fonctions à la syntaxe très simple.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="kw">require</span>(tidyverse)       <span class="co"># ou library(tidyverse)</span></a></code></pre></div>
<div id="generation-de-vecteurs" class="section level3">
<h3><span class="header-section-number">11.1.1</span> Génération de vecteurs</h3>
<p>Créez trois vecteurs : un numérique, un caractère et un facteur. Vous pouvez vous aider des fonctions <code>c()</code>, <code>rnorm()</code> (génération d’une variable aléatoire selon une loi normale), <code>seq()</code> ou <code>rep()</code></p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())</a>
<a class="sourceLine" id="cb192-2" data-line-number="2"></a>
<a class="sourceLine" id="cb192-3" data-line-number="3">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">160</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">60</span>)</a>
<a class="sourceLine" id="cb192-4" data-line-number="4">x1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Je&quot;</span>,<span class="st">&quot;programme&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;R&quot;</span>) <span class="co"># Guillemets pour indiquer que c&#39;est une variable textuelle</span></a>
<a class="sourceLine" id="cb192-5" data-line-number="5">y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb192-6" data-line-number="6">z &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb192-7" data-line-number="7">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb192-8" data-line-number="8"></a>
<a class="sourceLine" id="cb192-9" data-line-number="9"><span class="co"># création de vecteurs avec la fonction c() = combine</span></a>
<a class="sourceLine" id="cb192-10" data-line-number="10">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">32</span>,<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb192-11" data-line-number="11"></a>
<a class="sourceLine" id="cb192-12" data-line-number="12"><span class="co"># avec la fonction seq() = sequence, g?n?ralisation de la syntaxe ci-dessus</span></a>
<a class="sourceLine" id="cb192-13" data-line-number="13">v2 &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span> , <span class="dv">15</span> , <span class="fl">1.5</span>)</a>
<a class="sourceLine" id="cb192-14" data-line-number="14"></a>
<a class="sourceLine" id="cb192-15" data-line-number="15"><span class="co"># syntaxe équivalente mais préférable car plus lisible :</span></a>
<a class="sourceLine" id="cb192-16" data-line-number="16"></a>
<a class="sourceLine" id="cb192-17" data-line-number="17">v2b&lt;-<span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">1</span> , <span class="dt">to=</span><span class="dv">15</span> , <span class="dt">by=</span><span class="fl">1.5</span>)</a>
<a class="sourceLine" id="cb192-18" data-line-number="18">v3&lt;-<span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb192-19" data-line-number="19"></a>
<a class="sourceLine" id="cb192-20" data-line-number="20"><span class="co"># avec la fonction rep() = répétition</span></a>
<a class="sourceLine" id="cb192-21" data-line-number="21">v4&lt;-<span class="kw">rep</span>(<span class="dv">4</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb192-22" data-line-number="22"></a>
<a class="sourceLine" id="cb192-23" data-line-number="23"><span class="co"># ces commandes peuvent être combinées. Pratique pour créer des variables &quot;facteur&quot;</span></a>
<a class="sourceLine" id="cb192-24" data-line-number="24">v5 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="fl">1.2</span>,<span class="dv">8</span>,<span class="dv">9</span>),<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb192-25" data-line-number="25">v6 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb192-26" data-line-number="26"></a>
<a class="sourceLine" id="cb192-27" data-line-number="27"><span class="co"># vecteurs de type texte ou factor</span></a>
<a class="sourceLine" id="cb192-28" data-line-number="28">vtaille &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;S&quot;</span>,<span class="st">&quot;L&quot;</span>),<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb192-29" data-line-number="29">vtaille &lt;-<span class="st"> </span><span class="kw">factor</span>(vtaille)</a>
<a class="sourceLine" id="cb192-30" data-line-number="30"></a>
<a class="sourceLine" id="cb192-31" data-line-number="31"><span class="co"># concaténation de vecteurs</span></a>
<a class="sourceLine" id="cb192-32" data-line-number="32">gtaille &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;X&quot;</span>,vtaille,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb192-33" data-line-number="33">gtaille &lt;-<span class="st"> </span><span class="kw">factor</span>(gtaille)</a>
<a class="sourceLine" id="cb192-34" data-line-number="34">toutes_taille &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">as.character</span>(vtaille),<span class="kw">as.character</span>(gtaille)) </a>
<a class="sourceLine" id="cb192-35" data-line-number="35">toutes_taille &lt;-<span class="st"> </span><span class="kw">as.factor</span>(toutes_taille)</a>
<a class="sourceLine" id="cb192-36" data-line-number="36"><span class="kw">levels</span>(toutes_taille)</a></code></pre></div>
<pre><code>## [1] &quot;L&quot;  &quot;S&quot;  &quot;XL&quot; &quot;XS&quot;</code></pre>
<p>Regroupez ces variables dans un dataframe, puis dans une liste. Dans les deux configurations, affichez la variable contenant les tailles (vtaille). Pour la liste, vous pouvez utiliser les <code>[]</code> et <code>[[]]</code>.</p>
</div>
<div id="generation-dautres-objets" class="section level3">
<h3><span class="header-section-number">11.1.2</span> Génération d’autres objets</h3>
<div id="dataframes-et-listes-1" class="section level4">
<h4><span class="header-section-number">11.1.2.1</span> Dataframes et listes</h4>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1">dataf &lt;-<span class="st"> </span><span class="kw">data.frame</span>(vtaille,v1,v2,v3,v4,v5,v6)</a>
<a class="sourceLine" id="cb194-2" data-line-number="2">liste &lt;-<span class="st"> </span><span class="kw">list</span>(vtaille,v1,v2,v3,v4,v5,v6)</a>
<a class="sourceLine" id="cb194-3" data-line-number="3"><span class="kw">names</span>(liste) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;vtaille&quot;</span>,<span class="st">&quot;v1&quot;</span>,<span class="st">&quot;v2&quot;</span>,<span class="st">&quot;v3&quot;</span>,<span class="st">&quot;v4&quot;</span>,<span class="st">&quot;v5&quot;</span>,<span class="st">&quot;v6&quot;</span>)</a>
<a class="sourceLine" id="cb194-4" data-line-number="4"></a>
<a class="sourceLine" id="cb194-5" data-line-number="5">dataf<span class="op">$</span>vtaille</a></code></pre></div>
<pre><code>##  [1] S L S L S L S L S L
## Levels: L S</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1">liste<span class="op">$</span>vtaille</a></code></pre></div>
<pre><code>##  [1] S L S L S L S L S L
## Levels: L S</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1"><span class="kw">rm</span>(dataf,vtaille,v1,v2,v2b,v3,v4,v5,v6)</a></code></pre></div>
</div>
<div id="pour-aller-plus-loin-matrices-et-arrays-1" class="section level4">
<h4><span class="header-section-number">11.1.2.2</span> Pour aller plus loin : matrices et arrays</h4>
<p>Les matrices et les arrays permettent des calculs rapides et efficaces, peuvent être très pratiques et optimisent le stockage des données. Ils demandent cependant plus de réflexion en amont quant à leur utilisation. On accède aux éléments avec les <code>[]</code>.</p>
<ul>
<li>Créer une matrice (10 lignes et 10 colonnes) remplie avec un tirage aléatoire selon une loi normale centrée réduit.</li>
<li>Créer un hypercube avec la fonction <code>array()</code> avec 10 lignes, colonnes et de profondeur 3, toujours avec un tirage aléatoire selon une loi normale</li>
</ul>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>),<span class="dt">ncol =</span> <span class="dv">10</span>, <span class="dt">nrow =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb199-2" data-line-number="2">arr &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="kw">rnorm</span>(<span class="dv">300</span>),<span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb199-3" data-line-number="3">mat</a></code></pre></div>
<pre><code>##              [,1]        [,2]        [,3]        [,4]        [,5]
##  [1,]  0.53011158 -0.15256062  1.07324707 -1.03895551 -2.59474651
##  [2,] -0.31964920 -0.74118127  0.84484173  0.03872791 -0.90288965
##  [3,]  0.64044464 -0.77447620 -1.39853434  0.34297198  0.30773064
##  [4,]  2.13470619 -1.35027225 -0.09235457 -0.20549259  0.02972369
##  [5,]  0.53873552  0.83082141  1.19696722  0.36389144  0.66228889
##  [6,] -0.44532214 -0.68583342  1.86014380 -1.88597459 -1.31746378
##  [7,] -0.67945239  0.27240024 -1.57072389  1.40515094  0.04527946
##  [8,]  0.27741856  1.24177845 -1.32631417  0.15869862  0.86548370
##  [9,]  0.04725301  0.01206466  0.26971805  1.76999658 -0.99334568
## [10,] -0.32132153 -1.38983455 -1.34710375 -0.50644280  0.33757162
##             [,6]        [,7]        [,8]        [,9]        [,10]
##  [1,]  1.6180461  0.06261739  0.39577015  0.43292661  0.273591954
##  [2,] -0.1666256 -0.27613171  1.83756949  0.44240308  0.585032103
##  [3,]  1.1265526  1.23676997  0.90890475 -0.38897749 -0.378561000
##  [4,] -0.3268083  0.60035582  0.05696559  0.29601902  1.390477664
##  [5,] -1.5739766  1.08285402 -1.43767217 -1.67258041  0.215782556
##  [6,]  1.1856666  0.20075478  0.18313564 -0.05282426 -1.709150970
##  [7,]  0.1196832  2.03244773  0.13764659  0.03940966 -0.316999246
##  [8,] -0.8711429 -0.49963645 -0.01341201 -0.78942883 -0.554704219
##  [9,] -0.2501953  0.37464041 -0.22414440 -1.21915331 -0.009112219
## [10,]  0.8809391 -0.31964043 -1.57759243  1.81260816  0.284656454</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1">arr</a></code></pre></div>
<pre><code>## , , 1
## 
##              [,1]       [,2]       [,3]       [,4]         [,5]       [,6]
##  [1,]  0.21702614  1.6125446 -0.1000399 -1.1793842  0.223163232 -0.7100767
##  [2,]  1.00399005 -0.3972211 -1.3347138  0.8989529  0.213385877  0.2131785
##  [3,]  0.34414135 -0.2098278  2.0132075  1.4039943 -0.294049419 -0.1923867
##  [4,]  0.19115522  0.5693725  1.3072174  0.7325632  0.127305130 -0.9571383
##  [5,]  0.04357422  1.1474830  0.5774808 -0.2253204 -0.947574884  0.2551711
##  [6,]  0.64245088 -0.4286076 -0.6784510 -0.1688762  1.093186071 -0.9105886
##  [7,] -0.53646673 -0.4920049 -0.2658793  0.2601091  1.521559034  1.0347389
##  [8,] -1.90791948 -0.6606624 -0.4935075 -1.6700877 -1.406154016  0.8178790
##  [9,] -0.06262498  0.5751107  0.6510035  1.3700998 -1.018070167 -1.0467073
## [10,]  0.65575770  0.9068241 -0.3888719 -0.6303187 -0.004777158  0.7145515
##              [,7]        [,8]       [,9]      [,10]
##  [1,]  0.38209184 -0.79596985 -0.5616728 -0.4341420
##  [2,]  1.54858402 -2.22526547 -1.0662178 -0.1914317
##  [3,]  2.37599874  1.11955052 -0.5458483  1.2445112
##  [4,]  0.04206005 -0.56241841  0.2119258  1.5558214
##  [5,]  0.47731935 -1.16242766  0.4189298  0.4267121
##  [6,] -0.77130081 -0.48643649 -0.3188707  0.1897529
##  [7,]  0.56799440 -1.54076600  0.8857718  0.1850283
##  [8,]  0.15082316  1.18187919  1.1103084  1.5172885
##  [9,]  0.37583227  0.05043921  0.6601515 -0.8001908
## [10,]  1.09011234 -0.31153376  0.9347908 -0.5291164
## 
## , , 2
## 
##              [,1]        [,2]       [,3]        [,4]       [,5]
##  [1,]  0.06322216 -1.42327900  0.7133865  0.48255382 -0.6040348
##  [2,] -0.10841773 -1.50423524  0.1264139 -1.79154250 -0.5693680
##  [3,]  0.36442968  0.32143208  0.4743219 -0.60836484  1.6612911
##  [4,] -0.01002406  0.17515406  0.1203904  0.45994455  0.3040500
##  [5,] -0.72713882 -0.40235466  0.4745400 -0.06601066 -0.3075215
##  [6,] -1.64611272 -0.70333432  0.7157224  0.57685017  0.4139291
##  [7,]  0.24690313  0.04152629 -0.7575125 -0.98674849 -0.3786082
##  [8,] -0.45345486  0.71615196  0.5187570  0.44923989  0.1403131
##  [9,]  0.86223581 -0.52621942  1.3139362  0.27256691  0.1407107
## [10,]  1.52261878 -0.80781067 -0.3715384 -1.49649854  1.0586138
##              [,6]        [,7]        [,8]        [,9]      [,10]
##  [1,]  0.07391823  1.28702417  0.59157267 -1.75167365  1.3635067
##  [2,] -0.20611622  1.29638444 -0.16348720 -0.45957519 -0.6200555
##  [3,]  0.07109751 -0.08799316  0.49895371 -0.11105942  1.0068654
##  [4,] -1.28011490 -1.65703192  1.24220645  0.13836209 -0.1580532
##  [5,] -0.73225108 -1.83004881  0.98479075 -1.29238319  1.1937579
##  [6,] -1.07317451  0.53691715  0.47904035  0.37558536  1.2984491
##  [7,]  0.05747955 -0.96609069 -1.10204734 -0.03116883 -0.8956484
##  [8,] -0.43474087  0.46737792  0.06202786  1.24993332 -1.5690780
##  [9,] -0.43447128 -0.60258172 -0.55391389 -1.60091095  0.7185956
## [10,] -0.18100136 -0.44649360 -0.85506222  0.97555898 -0.8215066
## 
## , , 3
## 
##              [,1]       [,2]       [,3]       [,4]        [,5]
##  [1,] -0.02134347  0.4473473 -2.0905006  1.0833284 -1.23432532
##  [2,] -1.39154226  0.7128677  1.4148476 -1.7313306 -0.83099374
##  [3,] -0.17711105  0.6349865  0.8439845  1.6511990 -0.94825005
##  [4,] -1.03245799  0.2489663 -0.9087957 -0.5820145 -0.26905755
##  [5,] -0.63378632 -0.1834975 -1.1751012 -0.1704577 -0.28928530
##  [6,] -0.47264645 -0.2339813 -0.9198578 -1.9600827  0.50367403
##  [7,]  1.52943698  1.2632922 -2.2656074  0.8049513 -0.56686796
##  [8,] -0.42426975 -0.3927238  0.7160083  0.1313939 -0.01535956
##  [9,]  0.10180533  0.0885269  0.6455718 -0.3093611  0.24205703
## [10,] -0.15122023 -0.4279499  0.6570354  0.2076020  0.67682949
##               [,6]       [,7]         [,8]       [,9]      [,10]
##  [1,] -0.502105267 -1.2725497  0.581199795 -0.6136052  1.7759008
##  [2,]  0.259510615  0.3647463  0.731123299  0.7687717  0.1545293
##  [3,] -0.482928626  1.7488033 -0.913842621  1.4683446  1.1557910
##  [4,]  1.045933299 -1.3670805 -0.141054522  2.1658978 -0.5792896
##  [5,]  0.665888195  0.4046723  0.552044629  0.3361170 -0.2460750
##  [6,]  0.774010537 -1.5575686  0.811362670  0.2592292  0.2382850
##  [7,] -0.094406240 -2.4967462  0.302939200 -1.0792811  1.3823991
##  [8,]  0.009187414  1.1796122 -1.100842926  2.5381317  0.4305951
##  [9,]  1.072650191 -2.7456196  0.008193401 -1.7523641 -1.8240363
## [10,]  0.902479942 -0.5572296 -0.567242211  1.8536519  0.9671054</code></pre>
<p><em>Pourquoi s’embêter avec ça ?</em> Parce qu’on peut appliquer des fonctions facilement sur les lignes, colonnes et autres dimensions. Exemple : résultats de validations croisées par bloc, simulations de loi selon différents paramètres. Et on calcule facilement des statistiques “marginales”.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1"><span class="kw">apply</span>(arr,<span class="dt">MARGIN =</span> <span class="dv">3</span>,<span class="dt">FUN=</span>mean)</a></code></pre></div>
<pre><code>## [1]  0.104199370 -0.074672531 -0.001888279</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1"><span class="kw">apply</span>(arr,<span class="dt">MARGIN =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>),<span class="dt">FUN =</span> mean)</a></code></pre></div>
<pre><code>##              [,1]        [,2]        [,3]
##  [1,]  0.05910844  0.01142614 -0.26731352
##  [2,]  0.26230112 -0.41129689  0.21578343
##  [3,]  0.12874459  0.33284173 -0.30824152
##  [4,]  0.07917321 -0.27080097 -0.08747721
##  [5,] -0.04920263  0.18593754 -0.27315789
##  [6,] -0.07813787 -0.41393749  0.36502201
##  [7,]  0.62395154 -0.20025362 -0.62989600
##  [8,] -0.47329487  0.11840811  0.02638807
##  [9,]  0.17292685 -0.25073315  0.59448935
## [10,]  0.31642333  0.15168330  0.34552049</code></pre>
<p><strong>Le coin du capitaine [ ]</strong> <img src="../Figures/CapHookImage.png" style="width:10.0%" /></p>
<p>Le crochet, c’est comme le capitaine du même nom : personne ne l’aime, mais sans lui, pas de Peter Pan, pas de Neverland ! Moralité, on s’en sert beacoup pour pimenter les codes ! On peut utiliser les crochets pour accéder aux éléments des matrices/arrays et dataframe/listes.</p>
<ul>
<li>Matrices et arrays</li>
</ul>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1">mat[<span class="dv">1</span>,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 0.5301116</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1">mat[<span class="dv">1</span>,]</a></code></pre></div>
<pre><code>##  [1]  0.53011158 -0.15256062  1.07324707 -1.03895551 -2.59474651
##  [6]  1.61804607  0.06261739  0.39577015  0.43292661  0.27359195</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1">mat[,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>##  [1]  0.53011158 -0.31964920  0.64044464  2.13470619  0.53873552
##  [6] -0.44532214 -0.67945239  0.27741856  0.04725301 -0.32132153</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1">arr[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 0.2170261</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1">arr[<span class="dv">1</span>,,]</a></code></pre></div>
<pre><code>##             [,1]        [,2]        [,3]
##  [1,]  0.2170261  0.06322216 -0.02134347
##  [2,]  1.6125446 -1.42327900  0.44734731
##  [3,] -0.1000399  0.71338648 -2.09050061
##  [4,] -1.1793842  0.48255382  1.08332840
##  [5,]  0.2231632 -0.60403478 -1.23432532
##  [6,] -0.7100767  0.07391823 -0.50210527
##  [7,]  0.3820918  1.28702417 -1.27254971
##  [8,] -0.7959699  0.59157267  0.58119979
##  [9,] -0.5616728 -1.75167365 -0.61360515
## [10,] -0.4341420  1.36350668  1.77590077</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1">arr[,,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>##              [,1]       [,2]       [,3]       [,4]         [,5]       [,6]
##  [1,]  0.21702614  1.6125446 -0.1000399 -1.1793842  0.223163232 -0.7100767
##  [2,]  1.00399005 -0.3972211 -1.3347138  0.8989529  0.213385877  0.2131785
##  [3,]  0.34414135 -0.2098278  2.0132075  1.4039943 -0.294049419 -0.1923867
##  [4,]  0.19115522  0.5693725  1.3072174  0.7325632  0.127305130 -0.9571383
##  [5,]  0.04357422  1.1474830  0.5774808 -0.2253204 -0.947574884  0.2551711
##  [6,]  0.64245088 -0.4286076 -0.6784510 -0.1688762  1.093186071 -0.9105886
##  [7,] -0.53646673 -0.4920049 -0.2658793  0.2601091  1.521559034  1.0347389
##  [8,] -1.90791948 -0.6606624 -0.4935075 -1.6700877 -1.406154016  0.8178790
##  [9,] -0.06262498  0.5751107  0.6510035  1.3700998 -1.018070167 -1.0467073
## [10,]  0.65575770  0.9068241 -0.3888719 -0.6303187 -0.004777158  0.7145515
##              [,7]        [,8]       [,9]      [,10]
##  [1,]  0.38209184 -0.79596985 -0.5616728 -0.4341420
##  [2,]  1.54858402 -2.22526547 -1.0662178 -0.1914317
##  [3,]  2.37599874  1.11955052 -0.5458483  1.2445112
##  [4,]  0.04206005 -0.56241841  0.2119258  1.5558214
##  [5,]  0.47731935 -1.16242766  0.4189298  0.4267121
##  [6,] -0.77130081 -0.48643649 -0.3188707  0.1897529
##  [7,]  0.56799440 -1.54076600  0.8857718  0.1850283
##  [8,]  0.15082316  1.18187919  1.1103084  1.5172885
##  [9,]  0.37583227  0.05043921  0.6601515 -0.8001908
## [10,]  1.09011234 -0.31153376  0.9347908 -0.5291164</code></pre>
<ul>
<li>dataframes et listes :</li>
</ul>
<p>Pour les dataframes, le fonctionnement est le même que pour les matrices. Pour les listes, une paire de crochet renvoie un résultat sous forme de liste, un double crochet renvoie le résultat sous sa forme naturelle (ex : vecteur ou matrice).</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="kw">str</span>(liste[<span class="dv">1</span>])</a></code></pre></div>
<pre><code>## List of 1
##  $ vtaille: Factor w/ 2 levels &quot;L&quot;,&quot;S&quot;: 2 1 2 1 2 1 2 1 2 1</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="kw">str</span>(liste[[<span class="dv">1</span>]])</a></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;L&quot;,&quot;S&quot;: 2 1 2 1 2 1 2 1 2 1</code></pre>
</div>
</div>
<div id="inspection-dun-objet-la-regression-1" class="section level3">
<h3><span class="header-section-number">11.1.3</span> Inspection d’un objet : la régression</h3>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-92-1.png" width="576" /></p>
<p>La régression linéaire consiste à exprimer une variable Y en fonction d’une variable X dans une fonction linéaire. C’est à dire qu’on cherche a et b tels que : <span class="math display">\[ Y = a \cdot X + b + \epsilon\]</span>
où <span class="math inline">\(\epsilon\)</span> est le résidu de la régression. On utilise dans cet exemple la table des iris de Fisher, existant dans R base qu’il suffit d’appeler avec <code>data(iris)</code> (il existe d’autres dataframe inclus dans les packages et qui sont utilisés en exemple dans l’aide).</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb223-1" data-line-number="1"><span class="kw">data</span>(<span class="st">&quot;iris&quot;</span>)</a>
<a class="sourceLine" id="cb223-2" data-line-number="2"><span class="kw">str</span>(iris)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Faire la régression de la Sepal.Length sur Petal.length à l’aide de la fonction <code>lm()</code></p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1"><span class="kw">lm</span>(<span class="dt">data=</span>iris,<span class="dt">formula =</span> Sepal.Length<span class="op">~</span>Petal.Length)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Sepal.Length ~ Petal.Length, data = iris)
## 
## Coefficients:
##  (Intercept)  Petal.Length  
##       4.3066        0.4089</code></pre>
<p>On a les paramètres a et b mais on aimerait en savoir plus… Au moins la qualité d’ajustement (le <span class="math inline">\(R^2\)</span> par exemple), et un graphique des résidus pour détecter une éventuelle structure. Pour cela, stocker le résultat dans un nouvel objet, et explorez-le avec les fonctions <code>str()</code>, <code>summary()</code> et <code>plot()</code></p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1">reg &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">data=</span>iris,<span class="dt">formula =</span> Sepal.Length<span class="op">~</span>Petal.Length)</a>
<a class="sourceLine" id="cb227-2" data-line-number="2"><span class="kw">str</span>(reg)</a></code></pre></div>
<pre><code>## List of 12
##  $ coefficients : Named num [1:2] 4.307 0.409
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;(Intercept)&quot; &quot;Petal.Length&quot;
##  $ residuals    : Named num [1:150] 0.2209 0.0209 -0.1382 -0.32 0.1209 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ effects      : Named num [1:150] -71.566 8.812 -0.155 -0.337 0.104 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;(Intercept)&quot; &quot;Petal.Length&quot; &quot;&quot; &quot;&quot; ...
##  $ rank         : int 2
##  $ fitted.values: Named num [1:150] 4.88 4.88 4.84 4.92 4.88 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ assign       : int [1:2] 0 1
##  $ qr           :List of 5
##   ..$ qr   : num [1:150, 1:2] -12.2474 0.0816 0.0816 0.0816 0.0816 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:150] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##   ..$ qraux: num [1:2] 1.08 1.1
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..$ rank : int 2
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 148
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = Sepal.Length ~ Petal.Length, data = iris)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language Sepal.Length ~ Petal.Length
##   .. ..- attr(*, &quot;variables&quot;)= language list(Sepal.Length, Petal.Length)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##   .. .. .. ..$ : chr &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;Petal.Length&quot;
##   .. ..- attr(*, &quot;order&quot;)= int 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(Sepal.Length, Petal.Length)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##  $ model        :&#39;data.frame&#39;:   150 obs. of  2 variables:
##   ..$ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##   ..$ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language Sepal.Length ~ Petal.Length
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(Sepal.Length, Petal.Length)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##   .. .. .. .. ..$ : chr &quot;Petal.Length&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;Petal.Length&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(Sepal.Length, Petal.Length)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1"><span class="kw">summary</span>(reg)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Sepal.Length ~ Petal.Length, data = iris)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1.24675 -0.29657 -0.01515  0.27676  1.00269 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   4.30660    0.07839   54.94   &lt;2e-16 ***
## Petal.Length  0.40892    0.01889   21.65   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.4071 on 148 degrees of freedom
## Multiple R-squared:   0.76,  Adjusted R-squared:  0.7583 
## F-statistic: 468.6 on 1 and 148 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="kw">plot</span>(reg)</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-95-1.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-95-2.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-95-3.png" width="576" /><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-95-4.png" width="576" /></p>
<p>Les <strong>méthodes</strong> summary, print et plot sont implémentées pour tous les objets en R, et on peut les utiliser pour avoir un premier aperçu de ce que l’on obtient avec la fonction.</p>
</div>
</div>
<div id="premier-jeu-de-donnees-premieres-statistiques" class="section level2">
<h2><span class="header-section-number">11.2</span> Premier jeu de données, premières statistiques</h2>
<div id="importer-les-donnees-et-premier-coup-doeil" class="section level3">
<h3><span class="header-section-number">11.2.1</span> Importer les données et premier coup d’oeil</h3>
<p>On peut importer n’importe quel format de données en R (excel, sas, stata, SQL…) et ceci est abordé dans le module 2. Pour ce module, nous ne voyons que l’importation de fichier .CSV. Si vous avez une base de données en excel ou libreOffice, sauvegardez l’onglet que vous souhaitez en faisant “enregistrer sous” <span class="math inline">\(\rightarrow\)</span> “délimité CSV”. Ici, nous travaillerons sur une base de données communales fournies par l’Insee, dite “comparateur de territoires”. Le fichier (excel) source figure sous le répertoire “data” et contient toutes les métadonnées ; nous avons ajouté une colonne correspondant au type ZAU de la commune concernée.</p>
<p>Utilisez la fonction read.csv pour importer ce fichier et stockez le dans un objet df. Veillez à ce que la région soit bien importée comme un facteur et non un entier. Inspectez ce nouvel objet.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> <span class="st">&quot;./data/Base_synth_territoires.csv&quot;</span>,<span class="dt">sep=</span><span class="st">&quot;;&quot;</span>,<span class="dt">dec=</span><span class="st">&quot;,&quot;</span>)</a>
<a class="sourceLine" id="cb232-2" data-line-number="2"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    36689 obs. of  38 variables:
##  $ CODGEO       : Factor w/ 36689 levels &quot;01001&quot;,&quot;01002&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ LIBGEO       : Factor w/ 34174 levels &quot;\xc8ve&quot;,&quot;\xc8vres&quot;,..: 13683 13685 813 815 832 855 859 954 1011 1173 ...
##  $ REG          : int  84 84 84 84 84 84 84 84 84 84 ...
##  $ DEP          : Factor w/ 100 levels &quot;01&quot;,&quot;02&quot;,&quot;03&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ ZAU          : Factor w/ 9 levels &quot;111 - Grand p\xf4le (plus de 10 000 emplois)&quot;,..: 3 2 2 2 8 2 2 5 8 2 ...
##  $ ZE           : Factor w/ 321 levels &quot;0050 - Mont-de-Marsan&quot;,..: 260 248 248 260 263 248 248 263 266 250 ...
##  $ P14_POP      : int  767 239 14022 1627 109 2570 743 338 1142 397 ...
##  $ P09_POP      : int  787 207 13350 1592 120 2328 660 336 960 352 ...
##  $ SUPERF       : num  15.95 9.15 24.6 15.92 5.88 ...
##  $ NAIS0914     : int  40 16 1051 117 8 175 59 12 56 25 ...
##  $ DECE0914     : int  25 7 551 41 3 78 20 11 32 10 ...
##  $ P14_MEN      : num  306 99.3 6161.1 621.1 52.5 ...
##  $ NAISD15      : int  13 5 222 15 2 21 11 2 18 4 ...
##  $ DECESD15     : int  5 1 121 7 2 9 3 3 5 0 ...
##  $ P14_LOG      : num  342.7 161.2 6838.4 661.8 71.5 ...
##  $ P14_RP       : num  306 99.3 6161.1 621.1 52.5 ...
##  $ P14_RSECOCC  : num  14 47.3 121.6 10.9 10.9 ...
##  $ P14_LOGVAC   : num  22.74 14.55 555.64 29.85 8.14 ...
##  $ P14_RP_PROP  : num  260 84.6 2769 473.3 37.7 ...
##  $ NBMENFISC13  : int  297 99 6034 617 47 1014 299 140 431 137 ...
##  $ PIMP13       : num  NA NA 57.4 NA NA ...
##  $ MED13        : num  22130 23213 19554 22388 21872 ...
##  $ TP6013       : num  NA NA 15.1 NA NA ...
##  $ P14_EMPLT    : num  85.16 12.81 7452.93 280.57 5.95 ...
##  $ P14_EMPLT_SAL: num  52.19 4.95 6743.37 206.38 3.96 ...
##  $ P09_EMPLT    : num  65.57 17.64 7551.68 286.61 5.29 ...
##  $ P14_POP1564  : num  463 141.6 8962.8 1043.1 71.3 ...
##  $ P14_CHOM1564 : num  33 9.84 1059.73 66.33 7.93 ...
##  $ P14_ACT1564  : num  376 121 6681.9 842.1 57.5 ...
##  $ ETTOT14      : int  47 22 1316 141 7 203 66 39 54 36 ...
##  $ ETAZ14       : int  9 1 7 14 0 21 2 5 5 6 ...
##  $ ETBE14       : int  2 3 60 7 0 18 0 2 6 4 ...
##  $ ETFZ14       : int  5 1 131 19 0 21 9 1 13 3 ...
##  $ ETGU14       : int  25 14 892 85 5 114 45 27 24 18 ...
##  $ ETGZ14       : int  6 4 283 19 1 28 16 6 9 7 ...
##  $ ETOQ14       : int  6 3 226 16 2 29 10 4 6 5 ...
##  $ ETTEF114     : int  9 2 385 27 0 38 17 6 9 7 ...
##  $ ETTEFP1014   : int  0 0 109 5 0 15 2 0 3 0 ...</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> <span class="st">&quot;./data/Base_synth_territoires.csv&quot;</span>,<span class="dt">sep=</span><span class="st">&quot;;&quot;</span>,<span class="dt">dec=</span><span class="st">&quot;,&quot;</span>,<span class="dt">colClasses =</span> <span class="kw">c</span>(<span class="st">&quot;REG&quot;</span>=<span class="st">&quot;factor&quot;</span>))</a>
<a class="sourceLine" id="cb234-2" data-line-number="2"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    36689 obs. of  38 variables:
##  $ CODGEO       : Factor w/ 36689 levels &quot;01001&quot;,&quot;01002&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ LIBGEO       : Factor w/ 34174 levels &quot;\xc8ve&quot;,&quot;\xc8vres&quot;,..: 13683 13685 813 815 832 855 859 954 1011 1173 ...
##  $ REG          : Factor w/ 17 levels &quot;01&quot;,&quot;02&quot;,&quot;03&quot;,..: 15 15 15 15 15 15 15 15 15 15 ...
##  $ DEP          : Factor w/ 100 levels &quot;01&quot;,&quot;02&quot;,&quot;03&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ ZAU          : Factor w/ 9 levels &quot;111 - Grand p\xf4le (plus de 10 000 emplois)&quot;,..: 3 2 2 2 8 2 2 5 8 2 ...
##  $ ZE           : Factor w/ 321 levels &quot;0050 - Mont-de-Marsan&quot;,..: 260 248 248 260 263 248 248 263 266 250 ...
##  $ P14_POP      : int  767 239 14022 1627 109 2570 743 338 1142 397 ...
##  $ P09_POP      : int  787 207 13350 1592 120 2328 660 336 960 352 ...
##  $ SUPERF       : num  15.95 9.15 24.6 15.92 5.88 ...
##  $ NAIS0914     : int  40 16 1051 117 8 175 59 12 56 25 ...
##  $ DECE0914     : int  25 7 551 41 3 78 20 11 32 10 ...
##  $ P14_MEN      : num  306 99.3 6161.1 621.1 52.5 ...
##  $ NAISD15      : int  13 5 222 15 2 21 11 2 18 4 ...
##  $ DECESD15     : int  5 1 121 7 2 9 3 3 5 0 ...
##  $ P14_LOG      : num  342.7 161.2 6838.4 661.8 71.5 ...
##  $ P14_RP       : num  306 99.3 6161.1 621.1 52.5 ...
##  $ P14_RSECOCC  : num  14 47.3 121.6 10.9 10.9 ...
##  $ P14_LOGVAC   : num  22.74 14.55 555.64 29.85 8.14 ...
##  $ P14_RP_PROP  : num  260 84.6 2769 473.3 37.7 ...
##  $ NBMENFISC13  : int  297 99 6034 617 47 1014 299 140 431 137 ...
##  $ PIMP13       : num  NA NA 57.4 NA NA ...
##  $ MED13        : num  22130 23213 19554 22388 21872 ...
##  $ TP6013       : num  NA NA 15.1 NA NA ...
##  $ P14_EMPLT    : num  85.16 12.81 7452.93 280.57 5.95 ...
##  $ P14_EMPLT_SAL: num  52.19 4.95 6743.37 206.38 3.96 ...
##  $ P09_EMPLT    : num  65.57 17.64 7551.68 286.61 5.29 ...
##  $ P14_POP1564  : num  463 141.6 8962.8 1043.1 71.3 ...
##  $ P14_CHOM1564 : num  33 9.84 1059.73 66.33 7.93 ...
##  $ P14_ACT1564  : num  376 121 6681.9 842.1 57.5 ...
##  $ ETTOT14      : int  47 22 1316 141 7 203 66 39 54 36 ...
##  $ ETAZ14       : int  9 1 7 14 0 21 2 5 5 6 ...
##  $ ETBE14       : int  2 3 60 7 0 18 0 2 6 4 ...
##  $ ETFZ14       : int  5 1 131 19 0 21 9 1 13 3 ...
##  $ ETGU14       : int  25 14 892 85 5 114 45 27 24 18 ...
##  $ ETGZ14       : int  6 4 283 19 1 28 16 6 9 7 ...
##  $ ETOQ14       : int  6 3 226 16 2 29 10 4 6 5 ...
##  $ ETTEF114     : int  9 2 385 27 0 38 17 6 9 7 ...
##  $ ETTEFP1014   : int  0 0 109 5 0 15 2 0 3 0 ...</code></pre>
<p>Inspectez le dataframe avec les fonctions vues en cours… et plus !</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="kw">dim</span>(df)</a></code></pre></div>
<pre><code>## [1] 36689    38</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   CODGEO                     LIBGEO REG DEP
## 1  01001 L&#39;Abergement-Cl\xe9menciat  84  01
## 2  01002      L&#39;Abergement-de-Varey  84  01
## 3  01004       Amb\xe9rieu-en-Bugey  84  01
## 4  01005     Amb\xe9rieux-en-Dombes  84  01
## 5  01006                 Ambl\xe9on  84  01
## 6  01007                   Ambronay  84  01
##                                                  ZAU
## 1 120 - Multipolaris\xe9e des grandes aires urbaines
## 2                  112 - Couronne d&#39;un grand p\xf4le
## 3                  112 - Couronne d&#39;un grand p\xf4le
## 4                  112 - Couronne d&#39;un grand p\xf4le
## 5              300 - Autre commune multipolaris\xe9e
## 6                  112 - Couronne d&#39;un grand p\xf4le
##                                 ZE P14_POP P09_POP SUPERF NAIS0914
## 1 8213 - Villefranche-sur-Sa\xf4ne     767     787  15.95       40
## 2      8201 - Amb\xe9rieu-en-Bugey     239     207   9.15       16
## 3      8201 - Amb\xe9rieu-en-Bugey   14022   13350  24.60     1051
## 4 8213 - Villefranche-sur-Sa\xf4ne    1627    1592  15.92      117
## 5               8216 - Chamb\xe9ry     109     120   5.88        8
## 6      8201 - Amb\xe9rieu-en-Bugey    2570    2328  33.55      175
##   DECE0914    P14_MEN NAISD15 DECESD15    P14_LOG     P14_RP P14_RSECOCC
## 1       25  306.00000      13        5  342.73473  306.00000    13.99418
## 2        7   99.33745       5        1  161.16023   99.33745    47.27625
## 3      551 6161.06200     222      121 6838.35437 6161.06200   121.64795
## 4       41  621.05374      15        7  661.76017  621.05374    10.85505
## 5        3   52.51818       2        2   71.51818   52.51818    10.85714
## 6       78 1028.00000      21        9 1160.00000 1028.00000    56.00000
##   P14_LOGVAC P14_RP_PROP NBMENFISC13   PIMP13    MED13   TP6013
## 1  22.740550   260.00000         297       NA 22130.00       NA
## 2  14.546538    84.58436          99       NA 23213.00       NA
## 3 555.644416  2769.00170        6034 57.41294 19554.00 15.11508
## 4  29.851387   473.32736         617       NA 22387.62       NA
## 5   8.142857    37.65455          47       NA 21871.67       NA
## 6  76.000000   779.00000        1014 62.35178 21650.67       NA
##     P14_EMPLT P14_EMPLT_SAL   P09_EMPLT P14_POP1564 P14_CHOM1564
## 1   85.157286     52.191539   65.566193   463.00000    33.000000
## 2   12.814642      4.946329   17.644456   141.62963     9.835391
## 3 7452.926728   6743.374287 7551.682296  8962.84216  1059.728437
## 4  280.569953    206.382233  286.611037  1043.12909    66.326127
## 5    5.945455      3.963636    5.285714    71.34545     7.927273
## 6  487.730918    372.758450  491.138876  1614.00000   108.000000
##   P14_ACT1564 ETTOT14 ETAZ14 ETBE14 ETFZ14 ETGU14 ETGZ14 ETOQ14 ETTEF114
## 1   376.00000      47      9      2      5     25      6      6        9
## 2   120.97531      22      1      3      1     14      4      3        2
## 3  6681.86216    1316      7     60    131    892    283    226      385
## 4   842.14083     141     14      7     19     85     19     16       27
## 5    57.47273       7      0      0      0      5      1      2        0
## 6  1267.00000     203     21     18     21    114     28     29       38
##   ETTEFP1014
## 1          0
## 2          0
## 3        109
## 4          5
## 5          0
## 6         15</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="kw">tail</span>(df)</a></code></pre></div>
<pre><code>##       CODGEO            LIBGEO REG DEP
## 36684  97419       Sainte-Rose  04 974
## 36685  97420    Sainte-Suzanne  04 974
## 36686  97421           Salazie  04 974
## 36687  97422         Le Tampon  04 974
## 36688  97423 Les Trois-Bassins  04 974
## 36689  97424            Cilaos  04 974
##                                                       ZAU             ZE
## 36684 400 - Commune isol\xe9e hors influence des p\xf4les   0401 - L&#39;Est
## 36685                   112 - Couronne d&#39;un grand p\xf4le 0402 - Le Nord
## 36686 400 - Commune isol\xe9e hors influence des p\xf4les   0401 - L&#39;Est
## 36687        111 - Grand p\xf4le (plus de 10 000 emplois)  0404 - Le Sud
## 36688                   112 - Couronne d&#39;un grand p\xf4le 0403 - L&#39;Ouest
## 36689 400 - Commune isol\xe9e hors influence des p\xf4les  0404 - Le Sud
##       P14_POP P09_POP SUPERF NAIS0914 DECE0914   P14_MEN NAISD15 DECESD15
## 36684    6722    6822 177.60      519      186  2322.000      94       43
## 36685   22406   22437  57.84     1963      508  7686.912     358      100
## 36686    7132    7406 103.82      661      235  2420.000     111       46
## 36687   76796   72658 165.43     6663     2004 29662.460    1339      420
## 36688    7198    7057  42.58      531      217  2484.887     104       54
## 36689    5295    5989  84.40      430      186  2016.000      87       38
##         P14_LOG    P14_RP P14_RSECOCC P14_LOGVAC P14_RP_PROP NBMENFISC13
## 36684  2542.478  2322.000    28.58054   191.8979    1799.954          NA
## 36685  8328.616  7686.912    50.94097   590.7629    4450.648          NA
## 36686  2987.000  2420.000   174.00000   393.0000    1849.000          NA
## 36687 32710.091 29662.460  1004.31703  2043.3140   15372.921          NA
## 36688  2890.404  2484.887    67.58626   337.9313    1773.765          NA
## 36689  2732.690  2016.000   239.56501   477.1253    1522.480          NA
##       PIMP13 MED13 TP6013 P14_EMPLT P14_EMPLT_SAL P09_EMPLT P14_POP1564
## 36684     NA    NA     NA  1272.841      920.0617  1269.573    4306.217
## 36685     NA    NA     NA  4296.362     3618.1538  4185.015   14821.042
## 36686     NA    NA     NA  1519.306     1090.0856  1533.305    4650.000
## 36687     NA    NA     NA 16145.620    12486.5465 14807.249   50316.640
## 36688     NA    NA     NA  1273.858      994.3469  1202.079    4850.570
## 36689     NA    NA     NA  1194.383      993.1546  1314.121    3461.457
##       P14_CHOM1564 P14_ACT1564 ETTOT14 ETAZ14 ETBE14 ETFZ14 ETGU14 ETGZ14
## 36684     1250.516    2850.155     414    125     44     31    159     59
## 36685     3712.486   10456.196    1323    136    139    190    694    249
## 36686     1369.000    3108.000     490    148     29     43    214     73
## 36687    12783.137   34446.789    5476    565    398    665   3025    999
## 36688     1360.617    3524.287     456     42     39     61    223     76
## 36689     1122.361    2415.666     360     49     17     35    193     49
##       ETOQ14 ETTEF114 ETTEFP1014
## 36684     55       82          8
## 36685    164      267         66
## 36686     56       95         11
## 36687    823     1032        204
## 36688     91       59         20
## 36689     66       65         26</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    36689 obs. of  38 variables:
##  $ CODGEO       : Factor w/ 36689 levels &quot;01001&quot;,&quot;01002&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ LIBGEO       : Factor w/ 34174 levels &quot;\xc8ve&quot;,&quot;\xc8vres&quot;,..: 13683 13685 813 815 832 855 859 954 1011 1173 ...
##  $ REG          : Factor w/ 17 levels &quot;01&quot;,&quot;02&quot;,&quot;03&quot;,..: 15 15 15 15 15 15 15 15 15 15 ...
##  $ DEP          : Factor w/ 100 levels &quot;01&quot;,&quot;02&quot;,&quot;03&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ ZAU          : Factor w/ 9 levels &quot;111 - Grand p\xf4le (plus de 10 000 emplois)&quot;,..: 3 2 2 2 8 2 2 5 8 2 ...
##  $ ZE           : Factor w/ 321 levels &quot;0050 - Mont-de-Marsan&quot;,..: 260 248 248 260 263 248 248 263 266 250 ...
##  $ P14_POP      : int  767 239 14022 1627 109 2570 743 338 1142 397 ...
##  $ P09_POP      : int  787 207 13350 1592 120 2328 660 336 960 352 ...
##  $ SUPERF       : num  15.95 9.15 24.6 15.92 5.88 ...
##  $ NAIS0914     : int  40 16 1051 117 8 175 59 12 56 25 ...
##  $ DECE0914     : int  25 7 551 41 3 78 20 11 32 10 ...
##  $ P14_MEN      : num  306 99.3 6161.1 621.1 52.5 ...
##  $ NAISD15      : int  13 5 222 15 2 21 11 2 18 4 ...
##  $ DECESD15     : int  5 1 121 7 2 9 3 3 5 0 ...
##  $ P14_LOG      : num  342.7 161.2 6838.4 661.8 71.5 ...
##  $ P14_RP       : num  306 99.3 6161.1 621.1 52.5 ...
##  $ P14_RSECOCC  : num  14 47.3 121.6 10.9 10.9 ...
##  $ P14_LOGVAC   : num  22.74 14.55 555.64 29.85 8.14 ...
##  $ P14_RP_PROP  : num  260 84.6 2769 473.3 37.7 ...
##  $ NBMENFISC13  : int  297 99 6034 617 47 1014 299 140 431 137 ...
##  $ PIMP13       : num  NA NA 57.4 NA NA ...
##  $ MED13        : num  22130 23213 19554 22388 21872 ...
##  $ TP6013       : num  NA NA 15.1 NA NA ...
##  $ P14_EMPLT    : num  85.16 12.81 7452.93 280.57 5.95 ...
##  $ P14_EMPLT_SAL: num  52.19 4.95 6743.37 206.38 3.96 ...
##  $ P09_EMPLT    : num  65.57 17.64 7551.68 286.61 5.29 ...
##  $ P14_POP1564  : num  463 141.6 8962.8 1043.1 71.3 ...
##  $ P14_CHOM1564 : num  33 9.84 1059.73 66.33 7.93 ...
##  $ P14_ACT1564  : num  376 121 6681.9 842.1 57.5 ...
##  $ ETTOT14      : int  47 22 1316 141 7 203 66 39 54 36 ...
##  $ ETAZ14       : int  9 1 7 14 0 21 2 5 5 6 ...
##  $ ETBE14       : int  2 3 60 7 0 18 0 2 6 4 ...
##  $ ETFZ14       : int  5 1 131 19 0 21 9 1 13 3 ...
##  $ ETGU14       : int  25 14 892 85 5 114 45 27 24 18 ...
##  $ ETGZ14       : int  6 4 283 19 1 28 16 6 9 7 ...
##  $ ETOQ14       : int  6 3 226 16 2 29 10 4 6 5 ...
##  $ ETTEF114     : int  9 2 385 27 0 38 17 6 9 7 ...
##  $ ETTEFP1014   : int  0 0 109 5 0 15 2 0 3 0 ...</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="kw">names</span>(df)</a></code></pre></div>
<pre><code>##  [1] &quot;CODGEO&quot;        &quot;LIBGEO&quot;        &quot;REG&quot;           &quot;DEP&quot;          
##  [5] &quot;ZAU&quot;           &quot;ZE&quot;            &quot;P14_POP&quot;       &quot;P09_POP&quot;      
##  [9] &quot;SUPERF&quot;        &quot;NAIS0914&quot;      &quot;DECE0914&quot;      &quot;P14_MEN&quot;      
## [13] &quot;NAISD15&quot;       &quot;DECESD15&quot;      &quot;P14_LOG&quot;       &quot;P14_RP&quot;       
## [17] &quot;P14_RSECOCC&quot;   &quot;P14_LOGVAC&quot;    &quot;P14_RP_PROP&quot;   &quot;NBMENFISC13&quot;  
## [21] &quot;PIMP13&quot;        &quot;MED13&quot;         &quot;TP6013&quot;        &quot;P14_EMPLT&quot;    
## [25] &quot;P14_EMPLT_SAL&quot; &quot;P09_EMPLT&quot;     &quot;P14_POP1564&quot;   &quot;P14_CHOM1564&quot; 
## [29] &quot;P14_ACT1564&quot;   &quot;ETTOT14&quot;       &quot;ETAZ14&quot;        &quot;ETBE14&quot;       
## [33] &quot;ETFZ14&quot;        &quot;ETGU14&quot;        &quot;ETGZ14&quot;        &quot;ETOQ14&quot;       
## [37] &quot;ETTEF114&quot;      &quot;ETTEFP1014&quot;</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="kw">class</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="kw">typeof</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="co"># Accéder a une variable directement (on obtient un vecteur) :</span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2">df<span class="op">$</span>CODGEO[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>] <span class="co"># Captain crochet poweeeeerr !!!</span></a></code></pre></div>
<pre><code>##  [1] 01001 01002 01004 01005 01006 01007 01008 01009 01010 01011
## 36689 Levels: 01001 01002 01004 01005 01006 01007 01008 01009 01010 ... 97424</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1"><span class="kw">class</span>(df<span class="op">$</span>CODGEO)</a></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="kw">typeof</span>(df<span class="op">$</span>CODGEO)</a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="kw">length</span>(df)</a></code></pre></div>
<pre><code>## [1] 38</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1"><span class="kw">length</span>(df<span class="op">$</span>region)</a></code></pre></div>
<pre><code>## [1] 0</code></pre>
</div>
<div id="creer-filtrer-selectionner" class="section level3">
<h3><span class="header-section-number">11.2.2</span> Créer, filtrer, sélectionner</h3>
<p>En utilisant la fonction <code>mutate()</code>, créer une nouvelle variable correspondant à la densité de population (rapport de la population à la superficie de la commune), ainsi que les taux de natalité et de mortalité (en pour mille)</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df,<span class="dt">densite=</span>P14_POP<span class="op">/</span>SUPERF,<span class="dt">tx_natal=</span><span class="dv">1000</span><span class="op">*</span>NAISD15<span class="op">/</span>P14_POP,<span class="dt">tx_mort=</span>DECESD15<span class="op">/</span>P14_POP)</a></code></pre></div>
<p>A l’aide de la fonction <code>select()</code>, créez une nouvelle table dans laquelle vous ne gardez que le code commune, le type de commune (ZAU), la région, le département et les variables que vous venez de créer.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" data-line-number="1">selection &lt;-<span class="st"> </span><span class="kw">select</span>(df,CODGEO,ZAU,REG,DEP,densite,tx_natal,tx_mort)</a></code></pre></div>
<p>Enfin, ne retenez les communes correspondant à votre département de naissance et stocker. Faites attention au type de la variable département !</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1">S0 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,DEP<span class="op">==</span><span class="st">&quot;62&quot;</span>)</a></code></pre></div>
<p>On va maintenant jouer avec les opérateurs logiques pour sélectionner des échantillons différents !</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" data-line-number="1">S1 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,DEP<span class="op">!=</span><span class="st">&quot;62&quot;</span>) <span class="co"># tout sauf le 62 :(</span></a>
<a class="sourceLine" id="cb263-2" data-line-number="2">S2 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,DEP <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;59&quot;</span>,<span class="st">&quot;62&quot;</span>)) <span class="co"># L&#39;ancien NPdC :)</span></a>
<a class="sourceLine" id="cb263-3" data-line-number="3">S3 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,<span class="op">!</span>(DEP <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;59&quot;</span>,<span class="st">&quot;62&quot;</span>))) <span class="co"># Le &quot;sud&quot; de la France</span></a>
<a class="sourceLine" id="cb263-4" data-line-number="4">S4 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,densite<span class="op">&gt;</span><span class="dv">100</span>) <span class="co"># l&#39;urbain</span></a>
<a class="sourceLine" id="cb263-5" data-line-number="5">S5 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection,DEP<span class="op">==</span><span class="st">&quot;62&quot;</span> <span class="op">&amp;</span><span class="st"> </span>densite<span class="op">&gt;</span><span class="dv">100</span>) <span class="co"># le PdC urbain</span></a>
<a class="sourceLine" id="cb263-6" data-line-number="6">S6 &lt;-<span class="st"> </span><span class="kw">filter</span>(selection, DEP<span class="op">==</span><span class="st">&quot;62&quot;</span> <span class="op">|</span><span class="st"> </span>densite <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>) <span class="co"># le PdC et l&#39;urbain</span></a></code></pre></div>
<p><strong>Nom d’un pipe <code>%&gt;%</code> !</strong></p>
<p>On peut combiner les opérations en une seule ligne à l’aide du pipe <code>%&gt;%</code> :</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1">selection &lt;-<span class="st"> </span><span class="kw">select</span>(df,CODGEO,ZAU,REG,DEP,densite,tx_natal,tx_mort) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb264-2" data-line-number="2"><span class="st">             </span><span class="kw">filter</span>(DEP<span class="op">==</span><span class="st">&quot;62&quot;</span>)</a></code></pre></div>
<p><strong>Le coin du capitaine [ ]</strong> <img src="../Figures/CapHookImage.png" style="width:10.0%" /></p>
<p>Pour sélectionner les données, on peut également utiliser les crochets couplés aux dollars et aux <code>c()</code>, sans passer par les numéros de lignes et colonnes ! On rencontre assez souvent cette syntaxe sur les forums.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" data-line-number="1">selection &lt;-<span class="st"> </span>df[df<span class="op">$</span>DEP<span class="op">==</span><span class="st">&quot;62&quot;</span>,<span class="kw">c</span>(<span class="st">&quot;CODGEO&quot;</span>,<span class="st">&quot;ZAU&quot;</span>,<span class="st">&quot;REG&quot;</span>,<span class="st">&quot;DEP&quot;</span>,<span class="st">&quot;densite&quot;</span>,<span class="st">&quot;tx_natal&quot;</span>,<span class="st">&quot;tx_mort&quot;</span>)]</a></code></pre></div>
<p><em>Note</em> : dans la syntaxe <code>tidyverse</code>, on ne met pas (obligatoirement) de guillemets pour les noms de variable, alors qu’on le fait pour la version [ ]</p>
</div>
</div>
<div id="mes-premiers-graphiques-et-statistiques" class="section level2">
<h2><span class="header-section-number">11.3</span> Mes premiers graphiques et statistiques</h2>
<div id="statistiques-univariees" class="section level3">
<h3><span class="header-section-number">11.3.1</span> Statistiques univariées</h3>
<p>Utilisez la fonction <code>summary</code> pour obtenir un résumé de l’ensemble des variables de la table <code>df</code></p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df,<span class="dt">ZAU2=</span><span class="kw">as.factor</span>(<span class="kw">substr</span>(ZAU,<span class="dv">1</span>,<span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb266-2" data-line-number="2">### Parce que la variable originale est trop longue et caractères bizarres</a>
<a class="sourceLine" id="cb266-3" data-line-number="3"><span class="kw">summary</span>(df)</a></code></pre></div>
<pre><code>##      CODGEO                 LIBGEO           REG             DEP       
##  01001  :    1   Sainte-Colombe:   13   44     : 5198   62     :  895  
##  01002  :    1   Beaulieu      :   11   76     : 4565   02     :  816  
##  01004  :    1   Saint-Sauveur :   11   75     : 4505   80     :  782  
##  01005  :    1   Sainte-Marie  :   11   84     : 4189   76     :  745  
##  01006  :    1   Le Pin        :   10   32     : 3838   57     :  730  
##  01007  :    1   Saint-Aubin   :   10   27     : 3831   14     :  707  
##  (Other):36683   (Other)       :36623   (Other):10563   (Other):32014  
##    ZAU                                                      
##  112 - Couronne d&#39;un grand p\xf4le                  :12297  
##  400 - Commune isol\xe9e hors influence des p\xf4les: 7383  
##  300 - Autre commune multipolaris\xe9e              : 7021  
##  120 - Multipolaris\xe9e des grandes aires urbaines : 3962  
##  111 - Grand p\xf4le (plus de 10 000 emplois)       : 3285  
##  221 - Petit p\xf4le (de 1 500 \xe0 5 000 emplois)  :  888  
##  (Other)                                            : 1853  
##                        ZE           P14_POP           P09_POP       
##  0061 - Toulouse        :  717   Min.   :      0   Min.   :      0  
##  2307 - Rouen           :  501   1st Qu.:    197   1st Qu.:    193  
##  2210 - Amiens          :  479   Median :    444   Median :    431  
##  7310 - Tarbes - Lourdes:  455   Mean   :   1838   Mean   :   1793  
##  2102 - Troyes          :  452   3rd Qu.:   1110   3rd Qu.:   1072  
##  2603 - Dijon           :  448   Max.   :2220445   Max.   :2234105  
##  (Other)                :33637   NA&#39;s   :821       NA&#39;s   :821      
##      SUPERF            NAIS0914           DECE0914       
##  Min.   :    0.04   Min.   :     0.0   Min.   :    0.00  
##  1st Qu.:    6.44   1st Qu.:     9.0   1st Qu.:    8.00  
##  Median :   10.81   Median :    23.0   Median :   17.00  
##  Mean   :   17.64   Mean   :   114.4   Mean   :   77.35  
##  3rd Qu.:   18.58   3rd Qu.:    60.0   3rd Qu.:   43.00  
##  Max.   :18360.00   Max.   :150843.0   Max.   :69907.00  
##  NA&#39;s   :821        NA&#39;s   :821        NA&#39;s   :821       
##     P14_MEN             NAISD15            DECESD15       
##  Min.   :      0.0   Min.   :    0.00   Min.   :    0.00  
##  1st Qu.:     83.8   1st Qu.:    1.00   1st Qu.:    1.00  
##  Median :    183.2   Median :    4.00   Median :    3.00  
##  Mean   :    802.0   Mean   :   21.96   Mean   :   16.47  
##  3rd Qu.:    454.9   3rd Qu.:   11.00   3rd Qu.:    9.00  
##  Max.   :1147990.9   Max.   :28267.00   Max.   :13997.00  
##  NA&#39;s   :821         NA&#39;s   :821        NA&#39;s   :821       
##     P14_LOG              P14_RP           P14_RSECOCC       
##  Min.   :      0.0   Min.   :      0.0   Min.   :     0.00  
##  1st Qu.:    115.0   1st Qu.:     83.8   1st Qu.:     7.00  
##  Median :    239.1   Median :    183.2   Median :    19.00  
##  Mean   :    970.2   Mean   :    802.0   Mean   :    91.63  
##  3rd Qu.:    565.0   3rd Qu.:    454.9   3rd Qu.:    49.29  
##  Max.   :1362181.9   Max.   :1147990.9   Max.   :107061.99  
##  NA&#39;s   :821         NA&#39;s   :821         NA&#39;s   :821        
##    P14_LOGVAC         P14_RP_PROP        NBMENFISC13       
##  Min.   :     0.00   Min.   :     0.0   Min.   :     32.0  
##  1st Qu.:     8.00   1st Qu.:    68.4   1st Qu.:    102.0  
##  Median :    18.00   Median :   148.0   Median :    205.0  
##  Mean   :    76.60   Mean   :   462.2   Mean   :    809.7  
##  3rd Qu.:    43.75   3rd Qu.:   349.2   3rd Qu.:    484.0  
##  Max.   :107129.02   Max.   :381934.3   Max.   :1038789.0  
##  NA&#39;s   :821         NA&#39;s   :821        NA&#39;s   :3793       
##      PIMP13          MED13           TP6013        P14_EMPLT        
##  Min.   :24.46   Min.   :10021   Min.   : 5.00   Min.   :      0.0  
##  1st Qu.:50.57   1st Qu.:18452   1st Qu.: 8.73   1st Qu.:     26.0  
##  Median :58.40   Median :19844   Median :11.97   Median :     66.8  
##  Mean   :58.98   Mean   :20250   Mean   :13.35   Mean   :    733.9  
##  3rd Qu.:67.19   3rd Qu.:21563   3rd Qu.:16.80   3rd Qu.:    229.5  
##  Max.   :89.38   Max.   :46251   Max.   :44.84   Max.   :1801865.8  
##  NA&#39;s   :31598   NA&#39;s   :3793    NA&#39;s   :32531   NA&#39;s   :821        
##  P14_EMPLT_SAL         P09_EMPLT          P14_POP1564       
##  Min.   :      0.0   Min.   :      0.0   Min.   :      0.0  
##  1st Qu.:     13.0   1st Qu.:     26.1   1st Qu.:    120.3  
##  Median :     42.0   Median :     65.2   Median :    275.0  
##  Mean   :    637.8   Mean   :    716.4   Mean   :   1165.0  
##  3rd Qu.:    173.4   3rd Qu.:    220.6   3rd Qu.:    684.8  
##  Max.   :1562078.5   Max.   :1805470.4   Max.   :1554076.1  
##  NA&#39;s   :821         NA&#39;s   :9           NA&#39;s   :821        
##   P14_CHOM1564        P14_ACT1564           ETTOT14        
##  Min.   :     0.00   Min.   :      0.0   Min.   :     0.0  
##  1st Qu.:     8.85   1st Qu.:     90.5   1st Qu.:    19.0  
##  Median :    20.45   Median :    208.3   Median :    38.0  
##  Mean   :   119.75   Mean   :    855.8   Mean   :   179.3  
##  3rd Qu.:    51.78   3rd Qu.:    518.0   3rd Qu.:    92.0  
##  Max.   :144515.41   Max.   :1202565.3   Max.   :551952.0  
##  NA&#39;s   :821         NA&#39;s   :821         NA&#39;s   :25        
##      ETAZ14           ETBE14              ETFZ14        
##  Min.   :  0.00   Min.   :    0.000   Min.   :    0.00  
##  1st Qu.:  4.00   1st Qu.:    1.000   1st Qu.:    2.00  
##  Median :  7.00   Median :    3.000   Median :    5.00  
##  Mean   : 11.36   Mean   :    9.417   Mean   :   18.18  
##  3rd Qu.: 14.00   3rd Qu.:    7.000   3rd Qu.:   12.00  
##  Max.   :587.00   Max.   :15181.000   Max.   :24528.00  
##  NA&#39;s   :25       NA&#39;s   :25          NA&#39;s   :25        
##      ETGU14             ETGZ14             ETOQ14        
##  Min.   :     0.0   Min.   :    0.00   Min.   :    0.00  
##  1st Qu.:     7.0   1st Qu.:    1.00   1st Qu.:    2.00  
##  Median :    17.0   Median :    4.00   Median :    4.00  
##  Mean   :   116.1   Mean   :   28.73   Mean   :   24.22  
##  3rd Qu.:    47.0   3rd Qu.:   13.00   3rd Qu.:   10.00  
##  Max.   :462763.0   Max.   :65004.00   Max.   :48893.00  
##  NA&#39;s   :25         NA&#39;s   :25         NA&#39;s   :25        
##     ETTEF114           ETTEFP1014          densite        
##  Min.   :     0.00   Min.   :    0.00   Min.   :    0.00  
##  1st Qu.:     4.00   1st Qu.:    0.00   1st Qu.:   18.59  
##  Median :     8.00   Median :    1.00   Median :   40.35  
##  Mean   :    41.33   Mean   :   10.28   Mean   :  160.15  
##  3rd Qu.:    19.00   3rd Qu.:    4.00   3rd Qu.:   94.57  
##  Max.   :124131.00   Max.   :24527.00   Max.   :27126.14  
##  NA&#39;s   :25          NA&#39;s   :25         NA&#39;s   :821       
##     tx_natal          tx_mort            ZAU2      
##  Min.   :  0.000   Min.   :0.0000   112    :12297  
##  1st Qu.:  5.679   1st Qu.:0.0044   400    : 7383  
##  Median :  9.264   Median :0.0079   300    : 7021  
##  Mean   :  9.699   Mean   :0.0093   120    : 3962  
##  3rd Qu.: 12.931   3rd Qu.:0.0124   111    : 3285  
##  Max.   :111.111   Max.   :0.1577   221    :  888  
##  NA&#39;s   :827       NA&#39;s   :827      (Other): 1853</code></pre>
<p>Calculez maintenant les moyenne, médiane, écart-type et variance de la variable de densité de population</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="kw">mean</span>(df<span class="op">$</span>densite)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="kw">sd</span>(df<span class="op">$</span>densite)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1"><span class="kw">median</span>(df<span class="op">$</span>densite)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb274-1" data-line-number="1"><span class="kw">var</span>(df<span class="op">$</span>densite)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Il y a des valeurs manquantes, qui sont absorbantes ! On ajoute un paramètre pour calculer uniquement sur les valeurs renseignées</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb276-1" data-line-number="1"><span class="kw">mean</span>(df<span class="op">$</span>densite,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 160.151</code></pre>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb278-1" data-line-number="1"><span class="kw">sd</span>(df<span class="op">$</span>densite,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 722.799</code></pre>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb280-1" data-line-number="1"><span class="kw">median</span>(df<span class="op">$</span>densite,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 40.35457</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb282-1" data-line-number="1"><span class="kw">var</span>(df<span class="op">$</span>densite,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 522438.4</code></pre>
<p><strong>Application</strong> : calculez la version centrée réduite de la variable de densité. Rappel : on calcule la version centrée réduite d’une variable X en lui appliquant la transformation suivante : <span class="math display">\[ STD_X = \dfrac{X-\bar{X}}{\sigma_X}\]</span>
où <span class="math inline">\(\bar{X}\)</span> est la moyenne empirique de X et <span class="math inline">\(\sigma_X\)</span> son écart-type
Avantage : on élimine les effets d’unité (d’ordre de grandeur)</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb284-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df,<span class="dt">std_dens=</span>(densite<span class="op">-</span><span class="kw">mean</span>(densite,<span class="dt">na.rm =</span> T))<span class="op">/</span><span class="kw">sd</span>(densite,<span class="dt">na.rm =</span> T))</a>
<a class="sourceLine" id="cb284-2" data-line-number="2"><span class="kw">mean</span>(df<span class="op">$</span>std_dens,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 9.482279e-18</code></pre>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb286-1" data-line-number="1"><span class="kw">sd</span>(df<span class="op">$</span>std_dens, <span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Calulez à présent les quartiles puis déciles de cette variables</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb288-1" data-line-number="1"><span class="kw">quantile</span>(df<span class="op">$</span>densite,<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>##          0%         25%         50%         75%        100% 
##     0.00000    18.59047    40.35457    94.57430 27126.14108</code></pre>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb290-1" data-line-number="1"><span class="kw">quantile</span>(df<span class="op">$</span>densite,<span class="dt">probs =</span> <span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">1</span>),<span class="dt">na.rm =</span> T)</a></code></pre></div>
<pre><code>##          0%         10%         20%         30%         40%         50% 
##     0.00000    10.03439    15.65357    21.84208    29.76144    40.35457 
##         60%         70%         80%         90%        100% 
##    54.82089    77.65199   119.08740   240.40789 27126.14108</code></pre>
</div>
<div id="tableaux-croises" class="section level3">
<h3><span class="header-section-number">11.3.2</span> Tableaux croisés</h3>
<ul>
<li>Une variable</li>
</ul>
<p>Calculez le nombre de communes par type d’espace à l’aide de la fonction table, et le pourcentage associé</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>ZAU2)</a>
<a class="sourceLine" id="cb292-2" data-line-number="2">t</a></code></pre></div>
<pre><code>## 
##   111   112   120   211   212   221   222   300   400 
##  3285 12297  3962   456   815   888   582  7021  7383</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(t) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## 
##   111   112   120   211   212   221   222   300   400 
##  8.95 33.52 10.80  1.24  2.22  2.42  1.59 19.14 20.12</code></pre>
<ul>
<li>Deux variables</li>
</ul>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb296-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>REG,df<span class="op">$</span>ZAU2)</a>
<a class="sourceLine" id="cb296-2" data-line-number="2">t</a></code></pre></div>
<pre><code>##     
##       111  112  120  211  212  221  222  300  400
##   01   17    6    1    0    0    3    0    2    3
##   02   16    0    4    3    0    2    0    4    5
##   03    3    3    0    2    0    1    0    0   13
##   04   10    3    4    2    0    0    0    1    4
##   11  413  853    3    3    2    0    0    7    0
##   24  103  734  188   30   72   46   19  375  275
##   27  140 1299  336   31  122   60  137  737  969
##   28  216 1126  488   34  104   78   29  762  396
##   32  481 1505  729   33   18   54   18  711  289
##   44  322 1721  822   54  102   89  118 1155  815
##   52  108  535  186   23   44   69    8  386  143
##   53   89  415  152   47   18   42    1  325  181
##   75  333 1161  254   51   81  163   81 1002 1379
##   76  258 1124  333   79  155  123   89  877 1527
##   84  548 1484  390   43   84  113   47  517  963
##   93  220  229   69   20   11   32    6  107  269
##   94    8   99    3    1    2   13   29   53  152</code></pre>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb298-1" data-line-number="1"><span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(t) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">4</span>)</a></code></pre></div>
<pre><code>##     
##       111  112  120  211  212  221  222  300  400
##   01 0.05 0.02 0.00 0.00 0.00 0.01 0.00 0.01 0.01
##   02 0.04 0.00 0.01 0.01 0.00 0.01 0.00 0.01 0.01
##   03 0.01 0.01 0.00 0.01 0.00 0.00 0.00 0.00 0.04
##   04 0.03 0.01 0.01 0.01 0.00 0.00 0.00 0.00 0.01
##   11 1.13 2.32 0.01 0.01 0.01 0.00 0.00 0.02 0.00
##   24 0.28 2.00 0.51 0.08 0.20 0.13 0.05 1.02 0.75
##   27 0.38 3.54 0.92 0.08 0.33 0.16 0.37 2.01 2.64
##   28 0.59 3.07 1.33 0.09 0.28 0.21 0.08 2.08 1.08
##   32 1.31 4.10 1.99 0.09 0.05 0.15 0.05 1.94 0.79
##   44 0.88 4.69 2.24 0.15 0.28 0.24 0.32 3.15 2.22
##   52 0.29 1.46 0.51 0.06 0.12 0.19 0.02 1.05 0.39
##   53 0.24 1.13 0.41 0.13 0.05 0.11 0.00 0.89 0.49
##   75 0.91 3.16 0.69 0.14 0.22 0.44 0.22 2.73 3.76
##   76 0.70 3.06 0.91 0.22 0.42 0.34 0.24 2.39 4.16
##   84 1.49 4.04 1.06 0.12 0.23 0.31 0.13 1.41 2.62
##   93 0.60 0.62 0.19 0.05 0.03 0.09 0.02 0.29 0.73
##   94 0.02 0.27 0.01 0.00 0.01 0.04 0.08 0.14 0.41</code></pre>
<p>Pour aller plus loin et ajouter des variables de pondération, calculer les profils-ligne ou profils-colonne, rendez-vous au module 3, ou demandez à votre GF (Gentil Formateur)</p>
</div>
<div id="les-graphiques-avec-ggplot2" class="section level3">
<h3><span class="header-section-number">11.3.3</span> Les graphiques avec ggplot2</h3>
<p>On reprend la base non filtrée. A l’aide de la cheat sheet ggplot2, réalisez un histogramme de la densite de population.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb300-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> df,<span class="kw">aes</span>(<span class="dt">x=</span>densite)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-113-1.png" width="576" /></p>
<p>Ce n’est pas très informatif, mais on peut faire une transformation log pour y voir plus clair !</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb301-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> df,<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">log</span>(densite))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-114-1.png" width="576" /></p>
<p>Faites maintenant un barplot (qui n’est pas un histogramme !!!! ) du nombre de communes par type ZAU</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb302-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data=</span>df,<span class="kw">aes</span>(<span class="dt">x=</span>ZAU)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-115-1.png" width="576" /></p>
<p>On va essayer d’y voir plus clair avec le paramètre <code>fill</code></p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data=</span>df,<span class="kw">aes</span>(<span class="dt">x=</span>ZAU2,<span class="dt">fill=</span>ZAU2)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-116-1.png" width="576" /></p>
<p>Réalisez un graphique (unage de points) croisant la densité de population et le taux de mortalité</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb304-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data=</span>df,<span class="kw">aes</span>(<span class="dt">x=</span>densite,<span class="dt">y=</span>tx_mort)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-117-1.png" width="576" /></p>
<p>On peut ajouter une dimension supplémentaire avec la couleur des points</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data=</span>df,<span class="kw">aes</span>(<span class="dt">x=</span>densite,<span class="dt">y=</span>tx_mort,<span class="dt">color=</span>ZAU2)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-118-1.png" width="576" /></p>
<p>Là encore il faudrait faire une transformation logarithmique, mais tout ça est abordé dans le module 3 !</p>
<p>Avec les fonctions de base, on peut obtenir de nombreux graphiques avec très peu de code, mais moins jolis :</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb306-1" data-line-number="1"><span class="kw">plot</span>(iris)</a></code></pre></div>
<p><img src="D%C3%A9buter-avec-R-et-RStudio_files/figure-html/unnamed-chunk-119-1.png" width="576" /></p>
<p>Des possibilités infinies à approfondir dans les modules 3 et 5 !!!!!</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="aller-plus-loin-avec-les-objets-crochets-et-la-programmation-fonctionnelle.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercices-pour-r-studio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
